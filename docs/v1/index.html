<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Production Line — Dark Dashboard</title>
  <style>
    :root{
      --bg:#0b0f14; --panel:#0f1418; --muted:#9aa4ad; --accent:#7dd3fc; --card:#101519; --green:#34d399; --red:#fb7185; --yellow:#fbbf24;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#071018);font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial}
    .app{display:flex;height:100vh;color:#e6eef3}.info-col{width:25%;min-width:300px;background:linear-gradient(180deg,var(--panel),#07121a);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.02);padding:20px;display:flex;flex-direction:column;gap:14px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#60a5fa);display:flex;align-items:center;justify-content:center;color:#021025;font-weight:700}
h1{font-size:18px;margin:0}
p.lead{color:var(--muted);margin:0;font-size:13px}

.cards{display:grid;grid-template-columns:1fr;gap:12px;overflow:auto;padding-right:6px}
.card{background:linear-gradient(180deg,var(--card), rgba(255,255,255,0.02));padding:12px;border-radius:10px;display:flex;align-items:center;justify-content:space-between;gap:12px;box-shadow:0 6px 18px rgba(2,6,10,0.6)}
.meta{display:flex;align-items:center;gap:12px}
.status-dot{width:12px;height:12px;border-radius:50%;box-shadow:0 0 6px rgba(0,0,0,0.6);flex-shrink:0}
.meta .name{font-size:13px}
.meta .sub{font-size:11px;color:var(--muted)}

.visual{flex:1;padding:24px}
.stage{height:100%;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);border-radius:12px;padding:18px;box-shadow:inset 0 0 0 1px rgba(255,255,255,0.02);display:flex;flex-direction:column}
.svg-wrap{flex:1;background:linear-gradient(180deg,#051014 0%, #07131a 100%);border-radius:10px;padding:12px;position:relative;overflow:hidden}
svg{width:100%;height:100%}

/* nodes as dotted circles with label below */
.station-circle{fill:none;stroke-width:3;stroke-dasharray:4 6;}
.label{font-size:12px;fill:#d8eef6;text-anchor:middle;dominant-baseline:hanging}

/* pipes wider with flow inside them */
.pipe{fill:none;stroke:#134e63;stroke-width:16;stroke-linecap:round;stroke-linejoin:round;opacity:0.85}
.pipe.flow{stroke:#1fb6ff;stroke-dasharray:80 180;animation:flow 2s linear infinite}
@keyframes flow{to{stroke-dashoffset:-260}}

@media (max-width:900px){.info-col{display:none}}

  </style>
</head>
<body>
  <div class="app">
    <aside class="info-col">
      <div class="brand">
        <div class="logo">PL</div>
        <div>
          <h1>ProdLine Dashboard</h1>
          <p class="lead">Dark-mode visualization — 5×5 grid</p>
        </div>
      </div>
      <div class="cards" id="cards"></div>
    </aside><main class="visual">
  <div class="stage">
    <div style="display:flex;justify-content:space-between;align-items:center;color:var(--muted);margin-bottom:8px">
      <div>Factory Floor — Production Line Map</div>
      <div style="font-size:13px">Matrix: <strong>5 × 5</strong></div>
    </div>
    <div class="svg-wrap">
      <svg id="map" viewBox="0 0 800 600" preserveAspectRatio="xMidYMid meet"></svg>
    </div>
  </div>
</main>

  </div>  <script>
    const cols = 5, rows = 5;
    const svg = document.getElementById('map');
    const W = 800, H = 600;
    const padding = 60;
    const cellW = (W - padding*2)/(cols-1);
    const cellH = (H - padding*2)/(rows-1);
    function pos(c,r){return {x:padding+c*cellW,y:padding+r*cellH}};

    const nodes=[];let id=1;
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols;c++){
        const p=pos(c,r);
        nodes.push({id:`n${id++}`,x:p.x,y:p.y,c,r,status:['running','warning','stopped'][Math.floor(Math.random()*3)]});
      }
    }

    const stationGroup=document.createElementNS('http://www.w3.org/2000/svg','g');
    svg.appendChild(stationGroup);
    nodes.forEach(n=>{
      const g=document.createElementNS('http://www.w3.org/2000/svg','g');
      g.setAttribute('transform',`translate(${n.x},${n.y})`);
      const circle=document.createElementNS('http://www.w3.org/2000/svg','circle');
      circle.setAttribute('r',18);
      circle.setAttribute('class','station-circle');
      circle.setAttribute('stroke',n.status==='running'?'var(--green)':n.status==='warning'?'var(--yellow)':'var(--red)');
      const label=document.createElementNS('http://www.w3.org/2000/svg','text');
      label.setAttribute('y',22);
      label.setAttribute('class','label');
      label.textContent=`${n.id} (${n.status})`;
      g.appendChild(circle);g.appendChild(label);
      stationGroup.appendChild(g);
    });

    const pipesGroup=document.createElementNS('http://www.w3.org/2000/svg','g');
    svg.appendChild(pipesGroup);

    function rng(seed){let s=seed;return()=>{s=(s*1664525+1013904223)%4294967296;return s/4294967296}};
    const rand=rng(99);
    function makePath(a,b){return `M ${a.x} ${a.y} L ${b.x} ${a.y} L ${b.x} ${b.y}`;}

    nodes.forEach((n,i)=>{
      if(rand()>0.6){
        const j=(i+1)%nodes.length;
        const d=makePath(n,nodes[j]);
        const path=document.createElementNS('http://www.w3.org/2000/svg','path');
        path.setAttribute('d',d);
        path.classList.add('pipe');
        if(rand()>0.5) path.classList.add('flow');
        pipesGroup.appendChild(path);
      }
    });

    const cardsEl=document.getElementById('cards');
    nodes.forEach(n=>{
      const card=document.createElement('div');card.className='card';
      const meta=document.createElement('div');meta.className='meta';
      const dot=document.createElement('div');dot.className='status-dot';
      dot.style.background=n.status==='running'?'var(--green)':n.status==='warning'?'var(--yellow)':'var(--red)';
      const nam=document.createElement('div');nam.innerHTML=`<div class="name">${n.id}</div><div class="sub">${n.status}</div>`;
      meta.appendChild(dot);meta.appendChild(nam);
      card.appendChild(meta);
      cardsEl.appendChild(card);
    });
  </script></body>
</html>
